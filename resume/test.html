
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>罗鹏程-前端-简历-广州</title>

</head>

<body>

<script type="text/javascript">

	var Event = function(){
		this.eventMap = {};
	}

	Event.prototype.add = function(type, callback) {
		if(!this.eventMap[type]) this.eventMap[type] = [];

		this.eventMap[type].push(callback);
	}

	Event.prototype.remove = function(type, callback) {

		var callbacks = this.eventMap[type];

		if(!callbacks || callbacks.length == 0) return;

		for(var i=0; i<callbacks.length; i++) {
			if(callbacks[i] == callback){
				callbacks.slice(i, 1);
				return;
			}
		}
	}

	Event.prototype.dispach = function(type) {

		var callbacks = this.eventMap[type];

		if(callbacks) {
			for(var i=0; i<callbacks.length; i++){
				callbacks[i].call(null);
			};
		}
	}


	var obj_1 = new Event();

	var obj_2 = new Event();

	obj_1.t = "obj_1-test";

	console.warn(obj_1);

	console.warn(obj_2);

</script>

</body>
</html>